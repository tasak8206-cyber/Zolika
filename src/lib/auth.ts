'use server'; import { createClient } from '@supabase/supabase-js'; const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || ''; const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || ''; const supabase = createClient(supabaseUrl, supabaseAnonKey); export async function signUp(email: string, password: string) { try { const { data, error } = await supabase.auth.signUp({ email, password, }); if (error) { return { success: false, error: error.message }; } return { success: true, user: data.user }; } catch (err: any) { return { success: false, error: err.message }; } } export async function signIn(email: string, password: string) { try { const { data, error } = await supabase.auth.signInWithPassword({ email, password, }); if (error) { return { success: false, error: error.message }; } return { success: true, session: data.session }; } catch (err: any) { return { success: false, error: err.message }; } } export async function signOut() { try { const { error } = await supabase.auth.signOut(); if (error) { return { success: false, error: error.message }; } return { success: true }; } catch (err: any) { return { success: false, error: err.message }; } } export async function getSession() { try { const { data } = await supabase.auth.getSession(); return data.session; } catch (err: any) { return null; } }